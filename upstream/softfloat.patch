diff --git a/make/autoconf/lib-softfloat.m4 b/make/autoconf/lib-softfloat.m4
new file mode 100644
index 0000000..7fa1ed1
--- /dev/null
+++ b/make/autoconf/lib-softfloat.m4
@@ -0,0 +1,57 @@
+#
+# Copyright (c) 2018, Oracle and/or its affiliates. All rights reserved.
+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
+#
+# This code is free software; you can redistribute it and/or modify it
+# under the terms of the GNU General Public License version 2 only, as
+# published by the Free Software Foundation.  Oracle designates this
+# particular file as subject to the "Classpath" exception as provided
+# by Oracle in the LICENSE file that accompanied this code.
+#
+# This code is distributed in the hope that it will be useful, but WITHOUT
+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
+# version 2 for more details (a copy is included in the LICENSE file that
+# accompanied this code).
+#
+# You should have received a copy of the GNU General Public License version
+# 2 along with this work; if not, write to the Free Software Foundation,
+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
+#
+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
+# or visit www.oracle.com if you need additional information or have any
+# questions.
+#
+
+################################################################################
+# Setup softfloat helper
+################################################################################
+AC_DEFUN_ONCE([LIB_SETUP_SOFTFLOAT],
+[
+  AC_ARG_WITH(softfloat, [AS_HELP_STRING([--with-softfloat],
+      [specify path to patched softfloat.a])])
+
+  if test "x$NEEDS_LIB_SOFTFLOAT" = xfalse; then
+    if (test "x${with_softfloat}" != x && test "x${with_softfloat}" != xno); then
+      AC_MSG_WARN([[softfloat not used, so --with-softfloat is ignored]])
+    fi
+    SOFTFLOAT_LIBS=
+  else
+    SOFTFLOAT_FOUND=no
+
+    if test "x${with_softfloat}" = xno; then
+      AC_MSG_ERROR([It is not possible to disable the use of softfloat. Remove the --without-softfloat option.])
+    fi
+
+    if test "x${with_softfloat}" != x; then
+      SOFTFLOAT_LIBS="${with_softfloat}"
+      SOFTFLOAT_FOUND=yes
+    fi
+    if test "x$SOFTFLOAT_FOUND" = xno; then
+      HELP_MSG_MISSING_DEPENDENCY([softfloat])
+      AC_MSG_ERROR([Could not find softfloat! $HELP_MSG])
+    fi
+  fi
+
+  AC_SUBST(SOFTFLOAT_LIBS)
+])
diff --git a/make/autoconf/libraries.m4 b/make/autoconf/libraries.m4
index 5bf8569..eec4be6 100644
--- a/make/autoconf/libraries.m4
+++ b/make/autoconf/libraries.m4
@@ -32,6 +32,7 @@ m4_include([lib-freetype.m4])
 m4_include([lib-std.m4])
 m4_include([lib-x11.m4])
 m4_include([lib-fontconfig.m4])
+m4_include([lib-softfloat.m4])
 
 ################################################################################
 # Determine which libraries are needed for this configuration
@@ -78,6 +79,13 @@ AC_DEFUN_ONCE([LIB_DETERMINE_DEPENDENCIES],
     NEEDS_LIB_ALSA=false
   fi
 
+  if (test "x$OPENJDK_TARGET_CPU" == xarm &&
+      test "x$ARM_FLOAT_TYPE" = xsflt); then
+    NEEDS_LIB_SOFTFLOAT=true
+  else
+    NEEDS_LIB_SOFTFLOAT=false
+  fi
+
   # Check if ffi is needed
   if HOTSPOT_CHECK_JVM_VARIANT(zero); then
     NEEDS_LIB_FFI=true
@@ -97,6 +105,7 @@ AC_DEFUN_ONCE([LIB_SETUP_LIBRARIES],
   LIB_SETUP_FONTCONFIG
   LIB_SETUP_FREETYPE
   LIB_SETUP_ALSA
+  LIB_SETUP_SOFTFLOAT
   LIB_SETUP_LIBFFI
   LIB_SETUP_BUNDLED_LIBS
   LIB_SETUP_MISC_LIBS
diff --git a/make/autoconf/spec.gmk.in b/make/autoconf/spec.gmk.in
index ec45949..f3b222e 100644
--- a/make/autoconf/spec.gmk.in
+++ b/make/autoconf/spec.gmk.in
@@ -343,6 +343,7 @@ FONTCONFIG_CFLAGS:=@FONTCONFIG_CFLAGS@
 CUPS_CFLAGS:=@CUPS_CFLAGS@
 ALSA_LIBS:=@ALSA_LIBS@
 ALSA_CFLAGS:=@ALSA_CFLAGS@
+SOFTFLOAT_LIBS:=@SOFTFLOAT_LIBS@
 LIBFFI_LIBS:=@LIBFFI_LIBS@
 LIBFFI_CFLAGS:=@LIBFFI_CFLAGS@
 ENABLE_LIBFFI_BUNDLING:=@ENABLE_LIBFFI_BUNDLING@
diff --git a/make/hotspot/lib/CompileJvm.gmk b/make/hotspot/lib/CompileJvm.gmk
index a4b67f0..15f8ae6 100644
--- a/make/hotspot/lib/CompileJvm.gmk
+++ b/make/hotspot/lib/CompileJvm.gmk
@@ -49,6 +49,7 @@ JVM_LDFLAGS += \
 
 JVM_LIBS += \
     $(JVM_LIBS_FEATURES) \
+    $(SOFTFLOAT_LIBS) \
     #
 
 # These files and directories are always excluded
diff --git a/src/hotspot/cpu/arm/assembler_arm_32.hpp b/src/hotspot/cpu/arm/assembler_arm_32.hpp
index 53d6d17..c949c63 100644
--- a/src/hotspot/cpu/arm/assembler_arm_32.hpp
+++ b/src/hotspot/cpu/arm/assembler_arm_32.hpp
@@ -1239,10 +1239,11 @@ extern int  __aeabi_dcmpgt(double, double);
 
 // Imported code from glibc soft-fp bundle for
 // calculation accuracy improvement. See CR 6757269.
-extern double __aeabi_fadd_glibc(float, float);
-extern double __aeabi_fsub_glibc(float, float);
+extern float  __aeabi_fadd_glibc(float, float);
+extern float  __aeabi_fsub_glibc(float, float);
 extern double __aeabi_dadd_glibc(double, double);
 extern double __aeabi_dsub_glibc(double, double);
+
 };
 #endif // __SOFTFP__
 
